---
sidebar_position: 1
title: FAQ
---

The following is a break down of common questions about OPAL by categories.

# Data updates

## What is the difference between initial data load (baseline) and follow-on updates ?

A baseline update is used to bring an OPAL-client from a no-state (first connect, reconnect) status, to a basic ready state.
Follow on data update triggers continue to update the client state on top of a baseline.
Data fetchers are used both to load the initial baseline data as indicated by [OPAL_DATA_CONFIG_SOURCES](/getting-started/running-opal/run-opal-server/data-sources#step-5-server-config---data-sources), and for subsequent update (or delta changes) as part of an [update event](/getting-started/quickstart/opal-playground/publishing-data-update)
The instructions in `OPAL_DATA_CONFIG_SOURCES` should enable a client to reach the current needed relevant state at any point.

## What is the difference between triggering an update event, and fetching the data for the event ?

Triggering an update is done by calling the REST API on the opal-server, letting OPAL know there's an update. (You can also [publish events via the backbone pubsub (e.g. Kafka)](/tutorials/run_opal_with_kafka#triggering-events-directly-from-kafka) )
The update will propagate between OPAL servers and then be sent to the relevant subscribing clients according to the topics it has.
Once a client receives an update from a server, it will always use a data-fetcher to fetch the data it needs (unless the data is part of the update itself [which is less recommended]) according to the instructions in the event.
The event via the config field also indicates which type of data-fetch-provider the client should use.

## How does OPAL send the data itself for updates?

Instead of sending the data itself, OPAL sends instructions to the subscribing clients (per-topic) on how to fetch the data directly.
Note: since OPAL 0.3.0 you can also send data on the pub-sub event (but we don't recommend that as a default)
Note: you can teach OPAL-clients to fetch data from different sources by writing a data-fetch-provider - small python modules that are easy to create

# Kubernetes

## If I'm using OPAL just for Kubernetes level authorization, what benefits do I get from using OPAL compared to [kube-mgmt](https://github.com/open-policy-agent/kube-mgmt) ?

OPAL solves the most pain for application-level authorization; where things move a lot faster than the pace of deployments or infrastructure configurations. But it also shines for usage with Kubernetes. We'll highlight three main points:

1. Decoupling from infrastructure / deployments: With OPAL you can update both policy and data on the fly - without changing the underlying deployment/ or k8s configuration whatsoever (While still using CI/CD and GitOps).
   While you can load policies into OPA via kube-mgmt, this practice can become very painful rather quickly when working with complex policies or dynamic policies (i.e. where someone can use a UI or an API to update policies on the fly) - OPAL can be very powerful in allowing other players (e.g. customers, product managers, security, etc. ) to affect policies or subsets of them.

2. Data updates and Data distribution- OPAL allows to load data into OPA from multiple sources (including 3rd party services) and maintain their sync.

3. OPAL provides a more secure channel - allowing you to load sensitive data (or data from authorized sources) into OPA.

   - OPAL-Clients authenticate with JWTs - and the OPAL-server can pass them credentials to fetch data from secure sources as part of the update.

   It may be possible to achieve a similar result with K8s Secrets, though there is no current way to do so with kube-mgmt. In addition this would tightly couple (potentially external) services into the k8s configuration.

# Networking & Connectivity

## Does OPAL handle reconnecting ?

OPAL-clients constantly try to reconnect to their opal-servers, with an exponential back off.
Once a client reconnects it will follow the data instructions in `OPAL_DATA_CONFIG_SOURCES` to again reach a baseline state for data.

## How does OPAL handle data consistency / changes ?

Short answer: with Speed.
The pub/sub web socket is very lightweight and very fast - usually updates propagate within few milliseconds at worst.
The updates themselves (by default) are also lightweight and contain only the event metadata (e.g. topic, data source), not the data itself.
Hence OPAL-clients are aware of changes very quickly, and can react to the change (within their policy or healthchecks) even before they have the full data update.

## Can I run the OPAL-server without `OPAL_BROADCAST_URI` ?

Yes, you can potentially choose to run it as a single instance with a single worker in which case you don't need the broadcaster channel. The broadcaster, AKA the backbone pub-sub, is used to sync between opal-server instances, one instance doesn't require syncing of course.
This is mainly useful for light-workloads (Where a single worker is enough) and development environments (where you just don't want the hassle of setting up a Kafka / Redis / Postgres service)

# Devops, maintenance and observability

## Does OPAL provide health-check routes ?

Yes both OPAL-server and OPAL-client serve a health check route at `"/healthcheck"`
Read more about [monitoring OPAL](/tutorials/monitoring_opal)

## Does OPAL provide some kind of monitoring dashboard ?

Not yet - we are planing on releasing that as part of another major release of OPAL.
If you want early access to those features , or want to contribute to their development - do let us know.|
In the meanwhile, you can use something like [Prometheus](https://prometheus.io/) and feed it the /statistics (/tutorials/monitoring_opal)
And of course you can use [Permit.io](https://permit.io) which adds many control plane interfaces on top of OPAL.
